{% extends "admin/base.html" %}

{% block style %}

<link rel="stylesheet" href=" {{ url_for('static', filename='bootstrap/css/bootstrap-table.min.css') }} ">

<style>
    .float-right.search.btn-group{
        float: right;
    }

    #statusActive:hover ~ label{
        color: white;
    }
</style>

{% endblock style %}

{% block content %}

    <div class="d-sm-flex justify-content-between align-items-center my-0 mx-2">
        <h3 class="text-dark mx-3">
            <br>
            TEACHERS
        </h3>
    </div>


<!--    Teachers list-->
    <div class="container-fluid">
        <div id="teacherListTableContainer" class="rounded-3 my-1 text-dark">

                <table class="table table-striped table-sm"
                id="teacherListTable"
                data-toggle="table"
                data-search="true"
                data-search-align="right"
                data-pagination="true"
                data-sort-name="last_name"
                data-sort-order="asc"
                data-show-toggle="false"
                data-show-search-button="false"
                data-detail-formatter="detailFormatter"
                data-search-on-enter-key="false">

                    <thead>
                        <tr>
                            <th data-field="last_name" data-sortable="true">Surname</th>
                            <th data-field="first_name" data-sortable="true">Given Name</th>
                            <th data-field="actions" data-sortable="true">Actions</th>
                        </tr>
                    </thead>

                    <tbody id="teacherListTableBody">
                        {% for teach in teacher %}
                            <tr>
                                <td>{{teach[1].last_name}}</td>
                                <td>{{teach[1].first_name}}</td>
                                <td>

<!--                                    View Sections Handled List-->
                                    <a class="viewSectionList" teacher_id="{{teach[0].teacher_id}}" style="cursor: pointer; text-decoration: none;" data-bs-toggle="modal" data-bs-target="#sectionListModal">
                                        <i class="fas fa-solid fa-users" style="color: #c46d38;"></i>
                                    </a>
                                    &nbsp;

<!--                                    View Teacher Info-->
                                    <a class="viewTeacherInfo" teacher_id="{{teach[0].teacher_id}}" style="cursor: pointer; text-decoration: none;" data-bs-toggle="modal" data-bs-target="#teacherMoreInfoModal">
                                        <i class="fas fa-solid fa-circle-info" style="color: #EDB518;"></i>
                                    </a>
                                </td>
                            </tr>
                        {% endfor %}
                    </tbody>

                </table>

            </div>
    </div>

<!--    Teacher Info Modal-->
<div class="modal fade" id="teacherMoreInfoModal" data-bs-backdrop="static" data-bs-keyboard="true" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="teacherMoreInfoModalHeader">
            Teacher Name (Last, First)
        </h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body" id="teacherMoreInfoModalBody">
        ...
      </div>
      <div class="modal-footer">
          <div class="btn-group userStatus" role="group" aria-label="Basic radio toggle button group" id="userStatus">
              <input type="radio" class="btn-check" name="userStatus" id="statusActive" autocomplete="off" value="1" user_id checked>
              <label class="btn btn-outline-success" for="statusActive">Active</label>

              <input type="radio" class="btn-check" name="userStatus" id="statusInactive" autocomplete="off" user_id value="0">
              <label class="btn btn-outline-danger" for="statusInactive">Inactive</label>
          </div>
      </div>
    </div>
  </div>
</div>




<!--    Section List Modal-->





{% endblock content %}

{% block extra_js %}

<script src="{{ url_for('static', filename='js/ModalViewTeacher.js') }}"></script>
<script src="{{ url_for('static', filename='js/userStatusChanger.js') }}"></script>
<script src="{{ url_for('static', filename='js/ModalViewSection.js') }}"></script>
<script src="{{ url_for('static', filename='js/teacherReload.js') }}"></script>

<script src="{{ url_for('static', filename='bootstrap/js/bootstrap-table.min.js') }}"></script>

<script>
$(document).ready(function () {
    $("#teacherTab").addClass('active');
});
</script>

<script>
$(document).ready(function () {
    $('#statusActive').next().addClass('text-light');
    $("#statusInactive").on('click', function(){
        $('#statusActive').next().removeClass('text-light');
    });
    $("#statusActive").on('click', function(){
        $('#statusActive').next().addClass('text-light');
    });
});
</script>

{% endblock extra_js %}